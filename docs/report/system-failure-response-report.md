# 이커머스 시스템 장애 대응 보고서

## 개요
부하테스트 기반으로 발생가능할만한 구간의 api를 선정하여 배포 전 서비스의 안정성을 확보해야한다.
부하가 발생하는 시나리오의 대응방안을 수립하고, 개선하여 고가용성을 확보한다.

## 부하테스트 기반 장애 분석

### 인기 상품 조회 API
- **성능 이슈**: p90 응답시간 3초 이상으로 사용자 이탈률 증가
- **비즈니스 임팩트**
  - 2초 이상 페이지 로딩 시 사용자 이탈률 증가
  - 인기상품 조회 장애 시 주문전환율 감소로 매출 직접 영향

### 선착순 쿠폰 발급 API
- **성능 현황**: 500명 이하에서는 안정적이나 확장성 우려
- **비즈니스 임팩트**
  - 쿠폰 발급 응답 지연시 고객 이탈 및 중복 요청으로 인한 부하 증가
  - 쿠폰 중복 발급 시 평균 할인율 15% 기준 매출 손실 발생
  - 선착순 이벤트 실패 시 브랜드 신뢰도 하락 및 CS 인입 급증

## 장애 대응 전략

### 인기 상품 조회 API
- 즉시 대응 (0-4시간)
  - 캐시 최적화
  - 트래픽 제어
- 중기 대응 (1-7일)
  - Scale Up/Out
- 장기 대응 (1주 이상)
  - 상품 데이터 사전 집계
  - ElasticSearch 도입

### 선착순 쿠폰 발급 API
- 즉시 대응 (0-4시간)
  - 대기열 시스템 최적화
  - 모니터링 강화
- 중기 대응 (1-7일)
  - Scale Up/Out
- 장기 대응 (1주 이상)
  - 다중 지역 리전 구성

## 4. 결론
부하테스트 결과로 인해 비즈니스 임팩트로 기업의 손실을 대략적으로 파악할 수 있는 계기가 되었으며, 장애 대응을 통해 시급하게 처리해야할 부분을 파악할 수 있었다.
특히 인기상품 조회 API의 p90 3.94초는 즉각적인 대응이 필요한 수준이며, 선착순 쿠폰 발급 API는 현재는 안정적이나 확장성 확보가 필수적이다.
성능개선 및 모니터링과 같이 장애대응 전략을 이행하여 안정적인 서비스 운영이 가능해질 것으로 판단된다. 